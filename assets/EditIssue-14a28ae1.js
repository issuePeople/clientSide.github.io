import{_ as J,o as c,c as r,e as t,t as u,l as St,r as h,a as f,b as i,w as l,n as st,q as at,d as y,s as _,u as Et,x as At,j as I,F as j,f as P,h as U,k as Z,v as z,y as et,z as Dt,g as F,m as R,p as Bt,i as It}from"./index-d9cbdcc7.js";import{S as Vt}from"./SelectUsers-3a0ae34b.js";const Nt={name:"ActivitesEdit",props:{activity:Object},setup(){return{}}},Ot={style:{display:"flex","justify-content":"space-between","margin-left":"5px","margin-right":"5px","margin-top":"5px","border-bottom":"0.5px solid grey"}},Lt={style:{display:"flex","justify-content":"space-between","margin-top":"10px","margin-bottom":"20px"}},qt=["src"],Mt={style:{"margin-left":"10px"}},zt={style:{display:"flex","margin-left":"5px"}},Ft=["href"],Rt={key:0,class:"diff-status-wrapper",style:{"margin-top":"20px"}},Gt=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"Creada: ",-1),Wt=t("span",{style:{"margin-left":"5px"},class:"diff"},"userHardcoded",-1),Ht=[Gt,Wt],Jt={key:1,class:"diff-status-wrapper",style:{"margin-top":"20px"}},Kt=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"New attachment: ",-1),Qt={style:{"margin-left":"5px"},class:"diff"},Xt={key:2,class:"diff-status-wrapper",style:{"margin-top":"20px"}},Yt=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"Deleted attachment: ",-1),Zt={style:{"margin-left":"5px"},class:"diff"},$t={key:3,class:"diff-status-wrapper",style:{"margin-top":"20px"}},te=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"Tags added: ",-1),ee={style:{"margin-left":"5px"},class:"diff"},se={key:4,class:"diff-status-wrapper",style:{"margin-top":"20px"}},ae=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"Tags removed: ",-1),ie={style:{"margin-left":"5px"},class:"diff"},oe={key:5,class:"diff-status-wrapper",style:{"margin-top":"20px"}},ne={style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},le={style:{"margin-left":"5px"},class:"diff"};function ce(k,a,d,e,S,w){return c(),r("li",null,[t("div",Ot,[t("div",Lt,[t("img",{src:d.activity.usuari.avatar,width:"60",height:"60"},null,8,qt),t("div",Mt,[t("div",zt,[t("a",{href:"/#/usuari/"+d.activity.usuari.id,style:{"margin-right":"5px"},class:"comment-creator"},u(d.activity.usuari.nom),9,Ft),t("span",null,u(d.activity.data),1)]),d.activity.tipus==="Creada"?(c(),r("div",Rt,Ht)):d.activity.tipus==="Nou attachment"?(c(),r("div",Jt,[Kt,t("span",Qt,u(d.activity.valor_nou),1)])):d.activity.tipus==="Attachment esborrat"?(c(),r("div",Xt,[Yt,t("span",Zt,u(d.activity.valor_previ),1)])):d.activity.tipus==="Tag afegida"?(c(),r("div",$t,[te,t("span",ee,u(d.activity.valor_nou),1)])):d.activity.tipus==="Tag esborrada"?(c(),r("div",se,[ae,t("span",ie,u(d.activity.valor_previ),1)])):(c(),r("div",oe,[t("span",ne,u(d.activity.tipus)+": ",1),t("span",le,u(d.activity.valor_previ)+" > "+u(d.activity.valor_nou),1)]))])])])])}const re=J(Nt,[["render",ce]]),de={name:"ComentarisEdit",props:{comentari:Object},setup(){return{}}},ue={style:{"border-bottom":"0.5px solid grey"}},_e={style:{display:"flex","margin-left":"5px","margin-right":"5px","margin-top":"10px","margin-bottom":"20px"}},me=["src"],ve={style:{"margin-left":"10px"}},he={style:{display:"flex","justify-content":"space-between"}},fe=["href"];function ge(k,a,d,e,S,w){return c(),r("li",null,[t("div",ue,[t("div",_e,[t("img",{src:d.comentari.autor.avatar,width:"60",height:"60"},null,8,me),t("div",ve,[t("div",he,[t("a",{href:"/#/usuari/"+d.comentari.autor.id,style:{"margin-right":"5px"},class:"comment-creator"},u(d.comentari.autor.nom),9,fe),t("span",null,u(d.comentari.data),1)]),t("span",null,u(d.comentari.text),1)])])])])}const ye=J(de,[["render",ge]]),pe={name:"RowAttachment",components:{FontAwesomeIcon:St},props:{attachment:Array,issueId:Number},emits:["update_issues"],setup(k,a){let d=h(!1);function e(w){const x=w.split("/");return x[x.length-1]}async function S(w){await _("issues/"+k.issueId+"/attachments/"+w.id,"DELETE"),a.emit("update_issues")}return{dialogTrashAttachment:d,attachmentName:e,esborrar_attachment:S}}},be={style:{"margin-top":"5px","margin-left":"5px","border-bottom":"1px solid rgb(168, 168, 168)","font-size":"15px"}},ke={style:{display:"flex","justify-content":"space-between"}},xe=["href"],we=t("div",{style:{"margin-left":"auto","margin-right":"auto","font-size":"30px"}}," Delete attachment... ",-1),Te={style:{"margin-left":"auto","margin-right":"auto","font-size":"20px"}},Ce=t("p",null," Are you sure you want to delete? ",-1),je={style:{"margin-left":"auto","margin-right":"auto"}},Pe={style:{"margin-left":"auto","margin-right":"auto"}};function Ue(k,a,d,e,S,w){const x=f("font-awesome-icon"),m=f("v-btn"),V=f("v-card"),G=f("v-dialog");return c(),r("li",be,[t("div",ke,[t("div",null,[t("a",{href:d.attachment.document},u(e.attachmentName(d.attachment.document)),9,xe)]),i(G,{modelValue:e.dialogTrashAttachment,"onUpdate:modelValue":a[2]||(a[2]=C=>e.dialogTrashAttachment=C),width:"auto"},{activator:l(({props:C})=>[t("button",st(at(C)),[i(x,{icon:"trash"})],16)]),default:l(()=>[i(V,{width:"600px",class:"pa-5"},{default:l(()=>[we,t("div",Te,[Ce,t("p",je," the attachment "+u(e.attachmentName(d.attachment.document)),1),t("div",Pe,[i(m,{onClick:a[0]||(a[0]=C=>e.dialogTrashAttachment=!1),variant:"text"},{default:l(()=>[y(" Cancel ")]),_:1}),i(m,{onClick:a[1]||(a[1]=C=>e.esborrar_attachment(d.attachment)),color:"red",class:"ml-15"},{default:l(()=>[y(" Delete ")]),_:1})])])]),_:1})]),_:1},8,["modelValue"])])])}const Se=J(pe,[["render",Ue]]);const Ee={name:"listIssue",components:{ActivitiesEdit:re,ComentarisEdit:ye,SelectUsers:Vt,RowAttachment:Se},setup(){const k=Et();let d=window.location.href.split("/"),e=h(d[d.length-1]),S=h(""),w=h(""),x=h(""),m=h(""),V=h();const G=["Nova","En curs","Llesta per testejar","Tancada","Necessita informació","Rebutjada","Proposada"],C=["Bug","Pregunta","Millora"],K=["Desitjada","Menor","Normal","Important","Crítica"],T=["Baixa","Normal","Alta"];let E=h("Nova"),A=h("Bug"),D=h("Desitjada"),B=h("Baixa"),N=h(),O=h(nt()),W=h(!0),H=h(!0),q=h(!1),s=h(!1),v=h(!1),L=h(!1),$=h([]);_("usuaris/","GET","").then(n=>$.value=n);let tt=h(),Q=h(""),X=h(""),it=h(!1);const ot=At(()=>{let n=!1;for(let o of N.value.observadors)o.id==O.value&&(n=!0);return n});function nt(){let n="id=",b=decodeURIComponent(document.cookie).split(";");for(let Y=0;Y<b.length;Y++){let M=b[Y];for(;M.charAt(0)==" ";)M=M.substring(1);if(M.indexOf(n)==0)return M.substring(n.length,M.length)}return""}async function lt(){const n=new FormData;n.append("document",V.value[0]),await _("issues/"+e.value+"/attachments/","POST",n,"formData"),p(),V.value=null}async function ct(){let n={observador:O.value};await _("issues/"+e.value+"/observadors/","POST",n).then(o=>console.log("PUT",o)),p()}async function rt(n){let o={observador:n.id};await _("issues/"+e.value+"/observadors/","POST",o).then(b=>console.log("PUT",b)),p()}async function dt(){await _("issues/"+e.value+"/observadors/"+O.value,"DELETE").then(n=>console.log("PUT",n)),p()}async function ut(n){await _("issues/"+e.value+"/observadors/"+n,"DELETE").then(o=>console.log("PUT",o)),p()}function _t(n){E.value=n;let o;switch(E.value){case"Nova":o="N";break;case"En curs":o="D";break;case"Llesta per testejar":o="T";break;case"Tancada":o="C";break;case"Necessita informació":o="I";break;case"Rebutjada":o="R";break;case"Postponed":o="P";break;default:o="B"}let b={estat:o};_("issues/"+e.value+"/","PUT",b)}function mt(n){A.value=n;let o;switch(A.value){case"Bug":o="B";break;case"Pregunta":o="P";break;case"Millora":o="M";break;default:o="B"}let b={tipus:o};_("issues/"+e.value+"/","PUT",b)}function vt(n){D.value=n;let o;switch(D.value){case"Desitjada":o="D";break;case"Menor":o="M";break;case"Normal":o="N";break;case"Important":o="I";break;case"Crítica":o="C";break;default:o="D"}let b={gravetat:o};_("issues/"+e.value+"/","PUT",b)}function ht(n){B.value=n;let o;switch(B.value){case"Alta":o="A";break;case"Normal":o="M";break;case"Baixa":o="B";break;default:o="A"}let b={prioritat:o};_("issues/"+e.value+"/","PUT",b)}async function ft(){await _("issues/"+e.value,"DELETE"),k.push("/list")}async function gt(n){await _("issues/"+e.value+"/tags/"+n.nom,"DELETE"),p()}async function yt(){let n={nom:x.value,color:m.value};await _("issues/"+e.value+"/tags/","POST",n),p(),W.value=!0,x.value=""}async function pt(){let n={descripcio:w.value};await _("issues/"+e.value+"/","PUT",n)}async function bt(){let n={subject:S.value};await _("issues/"+e.value+"/","PUT",n)}async function kt(){let n={text:X.value};await _("issues/"+e.value+"/comentaris/","POST",n).then(o=>console.log("POST",o)),p(),X.value=""}async function xt(n){v.value=!1;let o={assignacio_id:n.id};await _("issues/"+e.value+"/","PUT",o).then(b=>console.log("PUT",b)),p()}async function wt(n){v.value=!1;let o={assignacio_id:n};await _("issues/"+e.value+"/","PUT",o).then(b=>console.log("PUT",b)),p()}async function Tt(){let n={assignacio_id:null};await _("issues/"+e.value+"/","PUT",n).then(o=>N.value=o),p()}async function Ct(){let n={dataLimit:null};await _("issues/"+e.value+"/","PUT",n).then(o=>console.log("PUT",o)),p()}async function jt(){let n={bloquejat:!1,motiuBloqueig:""};await _("issues/"+e.value+"/","PUT",n).then(o=>console.log("PUT",o)),p()}async function Pt(){q.value=!1;let n={dataLimit:new Date(tt.value).toISOString()};await _("issues/"+e.value+"/","PUT",n).then(o=>console.log("PUT",o)),p()}async function Ut(){let n={bloquejat:!0,motiuBloqueig:Q.value};s.value=!1,await _("issues/"+e.value+"/","PUT",n).then(o=>console.log("PUT",o)),p(),Q.value=""}function p(){_("issues/"+e.value+"/","GET","").then(n=>N.value=n)}return{nomTag:x,colorTag:m,comment:X,issueTitle:S,issueDesc:w,issue:N,hihaComentaris:H,addTag:W,TEstats:G,TTipus:C,TGravetat:K,TPrioritat:T,estat:E,tipus:A,gravetat:D,prioritat:B,idUser:O,showDatePickker:q,showBlock:s,autoObservador:ot,selectAssign:v,selectObs:L,allUsers:$,date:tt,motiuBlock:Q,attachmentFile:V,dialogTrash:it,esborrar_observador:ut,esborrar_assignacio:Tt,esborrar_tag_issue:gt,addAttachment:lt,guardarDesc:pt,deleteBlock:jt,deleteTimeLine:Ct,setEstat:_t,setTipus:mt,setPrioritat:ht,setGravetat:vt,saveEdit:bt,obsSelected:rt,assignSelect:xt,actualitzarInfo:p,btnSaveMotiuBloqueig:Ut,btnSaveDateDirect:Pt,afegir_comentari:kt,addTagFetch:yt,deleteIssue:ft,unWatchIssue:dt,autoSelect:wt,selfWatch:ct}},mounted(){let a=window.location.href.split("/"),d=a[a.length-1];_("issues/"+d+"/","GET","").then(e=>{this.issue=e,this.issueTitle=e.subject,this.issueDesc=e.descripcio,this.showBlock=e.bloquejat,this.estat=e.estat,this.tipus=e.tipus,this.gravetat=e.gravetat,this.prioritat=e.prioritat,e.dataLimit!=null?this.showDatePickker=!0:this.showDatePickker=!1})}},g=k=>(Bt("data-v-f8f38390"),k=k(),It(),k),Ae={key:0,class:"master"},De={class:"wrapper"},Be={class:"main detail"},Ie={class:"detail-header-container"},Ve={class:"detail-header"},Ne={class:"detail-title-wrapper"},Oe={class:"detail-ref"},Le={class:"issue-text",style:{display:"inline-flex"}},qe={class:"issue-ref"},Me=g(()=>t("div",{class:"detail-project"},[t("div",{class:"section-name"},"Issue")],-1)),ze={key:0,class:"detail-header-line block-desc-container"},Fe={class:"blocked-sign",style:{color:"white"}},Re={class:"block-description",style:{"margin-left":"5px",color:"#e5e5e5"}},Ge={key:1,class:"detail-header-line block-desc-container"},We={class:"blocked-sign",style:{color:"white"}},He={class:"block-description",style:{"margin-left":"5px",color:"#e5e5e5"}},Je=g(()=>t("div",{class:"action-buttons"},null,-1)),Ke={class:"subheader"},Qe={class:"tags-container",style:{display:"flex","justify-content":"space-between"}},Xe={style:{display:"flex","justify-content":"space-between"}},Ye={style:{"margin-top":"auto","margin-bottom":"auto","margin-right":"5px","margin-left":"5px"}},Ze=["onClick"],$e=g(()=>t("span",null,"Add tag",-1)),ts=g(()=>t("span",{style:{"font-size":"20px"}},"+",-1)),es=[$e,ts],ss={style:{display:"flex","justify-content":"space-between"}},as={style:{display:"flex","justify-content":"space-between"}},is={class:"created-by"},os={key:0},ns={class:"created-date"},ls={key:0,class:"user-avatar",style:{"margin-left":"5px"}},cs=["src"],rs={class:"detail-content"},ds={class:"duty-content",style:{"justify-content":"flex-start"}},us={style:{display:"flex","justify-content":"space-between"}},_s={style:{"margin-top":"10px"},class:"attachments attachments-full"},ms={class:"attachments-header"},vs={class:"attachment-title",style:{"margin-left":"5px"}},hs={class:"attachments-num"},fs=g(()=>t("span",{class:"attachments-text",style:{"margin-left":"5px"}},"Attachments",-1)),gs={class:"options"},ys={class:"add-attach"},ps={class:"attachment-list sortable"},bs={class:"history"},ks={class:"history-tabs",style:{padding:"5px"}},xs={key:0,class:"comment"},ws={style:{display:"flex","justify-content":"space-between"}},Ts={key:1,class:"activities"},Cs={class:"activities-wrapper"},js={class:"sidebar ticket-data"},Ps={class:"ticket-header"},Us=g(()=>t("span",{class:"ticket-title ng-pristine ng-valid ng-untouched ng-not-empty"},[t("span",null,"Open")],-1)),Ss={style:{"background-color":"whitesmoke",display:"flex","justify-content":"space-between"}},Es=g(()=>t("button",{id:"btnSaveState",type:"submit",name:"guardar_estat",style:{display:"none"}},null,-1)),As={class:"ticket-section ticket-data-container"},Ds={class:"ticket-data-container"},Bs={style:{display:"flex","justify-content":"space-between"}},Is=g(()=>t("label",null," type ",-1)),Vs=g(()=>t("button",{id:"btnSaveType",type:"submit",name:"guardar_tipus",style:{display:"none"}},null,-1)),Ns={style:{display:"flex","justify-content":"space-between"}},Os=g(()=>t("label",null," severity ",-1)),Ls=g(()=>t("button",{id:"btnSaveGrav",type:"submit",name:"guardar_gravetat",style:{display:"none"}},null,-1)),qs={style:{display:"flex","justify-content":"space-between"}},Ms=g(()=>t("label",null," priority ",-1)),zs=g(()=>t("button",{id:"btnSavePrior",type:"submit",name:"guardar_prioritat",style:{display:"none"}},null,-1)),Fs={class:"ticket-section ng-pristine ng-untouched ng-valid ng-not-empty"},Rs=g(()=>t("div",{class:"ticket-section-label"},[t("span",null,"Assigned")],-1)),Gs={class:"ticket-user-list-container"},Ws={class:"ticket-user-list-content"},Hs=g(()=>t("div",{class:"ticket-user-list"},null,-1)),Js={key:0,style:{display:"flex","justify-content":"space-between","margin-left":"5px","margin-right":"5px"}},Ks=["src"],Qs=["href"],Xs={class:"ticket-users-actions"},Ys={class:"ticket-section ticket-watchers"},Zs=g(()=>t("div",{class:"ticket-section-label"},[t("span",null,"Watchers")],-1)),$s={class:"ticket-user-list-container"},ta={class:"ticket-user-list-content"},ea=g(()=>t("div",{class:"ticket-user-list"},null,-1)),sa={style:{display:"flex","justify-content":"space-between","margin-left":"5px","margin-right":"5px","margin-top":"5px"}},aa=["src"],ia=["href"],oa=["onClick"],na={class:"ticket-users-actions"},la={class:"ticket-section ticket-detail-settings"},ca={class:"ticket-detail-settings"},ra={style:{"margin-left":"5px"}},da=g(()=>t("div",{style:{"margin-left":"auto","margin-right":"auto","font-size":"30px"}}," Delete issue ",-1)),ua={style:{"margin-left":"auto","margin-right":"auto","font-size":"20px"}},_a=g(()=>t("p",null," Are you sure you want to delete? ",-1)),ma={style:{"margin-left":"auto","margin-right":"auto"}},va={style:{"margin-left":"auto","margin-right":"auto"}},ha={style:{display:"flex","justify-content":"space-between"}},fa={style:{display:"flex","justify-content":"space-between"}};function ga(k,a,d,e,S,w){const x=f("v-text-field"),m=f("font-awesome-icon"),V=f("v-file-input"),G=f("RowAttachment"),C=f("ComentarisEdit"),K=f("ActivitiesEdit"),T=f("v-btn"),E=f("v-list-item-title"),A=f("v-list-item"),D=f("v-list"),B=f("v-menu"),N=f("v-card-title"),O=f("SelectUsers"),W=f("v-card-text"),H=f("v-card"),q=f("v-dialog");return e.issue?(c(),r("div",Ae,[t("div",De,[t("div",Be,[t("div",Ie,[t("div",Ve,[t("div",Ne,[t("div",Oe,[t("span",Le,[t("span",qe,"#"+u(e.issue.id),1),i(x,{modelValue:e.issueTitle,"onUpdate:modelValue":a[0]||(a[0]=s=>e.issueTitle=s),style:{"margin-top":"3px","margin-left":"5px","font-size":"25px",width:"300px"},class:"detail-subject"},null,8,["modelValue"])]),t("button",{style:{background:"none"},onClick:a[1]||(a[1]=s=>e.saveEdit())},[i(m,{icon:"floppy-disk"})])])]),Me,e.issue.dataLimit?(c(),r("div",ze,[t("span",Fe,[i(m,{icon:"clock"})]),t("span",Re,u(e.issue.dataModificacio),1)])):I("",!0),e.issue.bloquejat?(c(),r("div",Ge,[t("span",We,[i(m,{icon:"lock"})]),t("span",He,u(e.issue.motiuBloqueig),1)])):I("",!0),Je,t("div",Ke,[t("div",Qe,[t("div",Xe,[(c(!0),r(j,null,P(e.issue.tags,s=>(c(),r("div",{key:s,class:"tag my-tag",style:Dt({"background-color":s.color})},[t("span",Ye,u(s.nom),1),t("button",{onClick:v=>e.esborrar_tag_issue(s)},[i(m,{icon:"xmark"})],8,Ze)],4))),128)),e.addTag?(c(),r("button",{key:0,class:"btn-filter ng-animate-disabled",onClick:a[2]||(a[2]=s=>e.addTag=!1)},es)):I("",!0),U(t("div",ss,[U(t("input",{"onUpdate:modelValue":a[3]||(a[3]=s=>e.nomTag=s),type:"text",placeholder:"Enter tag"},null,512),[[z,e.nomTag]]),U(t("input",{"onUpdate:modelValue":a[4]||(a[4]=s=>e.colorTag=s),type:"color",style:{"margin-top":"auto","margin-bottom":"auto","margin-left":"5px"}},null,512),[[z,e.colorTag]]),t("button",{onClick:a[5]||(a[5]=s=>e.addTagFetch())},[i(m,{icon:"floppy-disk"})])],512),[[Z,!e.addTag]])]),t("div",as,[t("div",is,[e.issue.creador!=null?(c(),r("span",os,[y(" Created by "),t("span",null,u(e.issue.creador.nom),1)])):I("",!0),t("div",ns,u(e.issue.dataModificacio),1)]),e.issue.creador!=null?(c(),r("div",ls,[t("img",{src:e.issue.creador.avatar,width:"40",height:"40"},null,8,cs)])):I("",!0)])])])])]),t("div",rs,[t("section",ds,[t("div",us,[e.issue.descripcio?U((c(),r("textarea",{key:0,placeholder:"Empty space is so boring... go on, be descriptive...",name:"descripcio",class:"description ng-pristine ng-untouched ng-valid ng-empty","onUpdate:modelValue":a[6]||(a[6]=s=>e.issueDesc=s)},`\r
                            `,512)),[[z,e.issueDesc]]):I("",!0),t("button",{style:{"max-height":"32px",background:"none"},onClick:a[7]||(a[7]=s=>e.guardarDesc())},[i(m,{icon:"floppy-disk"})])])]),t("section",_s,[t("div",ms,[t("h3",vs,[t("span",hs,u(e.issue.attachments.length),1),fs]),t("div",gs,[t("div",ys,[i(V,{label:"+",modelValue:e.attachmentFile,"onUpdate:modelValue":a[8]||(a[8]=s=>e.attachmentFile=s),onChange:a[9]||(a[9]=s=>e.addAttachment())},{default:l(()=>[i(m,{icon:"plus"})]),_:1},8,["modelValue"])])])]),t("div",ps,[(c(!0),r(j,null,P(e.issue.attachments,(s,v)=>(c(),r("ul",{key:v},[i(G,{attachment:s,issueId:e.issue.id,onUpdate_issues:a[10]||(a[10]=L=>e.actualitzarInfo())},null,8,["attachment","issueId"])]))),128))])]),t("section",bs,[t("nav",ks,[t("button",{class:et(e.hihaComentaris?"history-tab active":"history-tab"),onClick:a[11]||(a[11]=s=>e.hihaComentaris=!0)}," Comentaris ",2),t("button",{class:et(e.hihaComentaris?"history-tab":"history-tab active"),style:{"margin-left":"15px"},onClick:a[12]||(a[12]=s=>e.hihaComentaris=!1)}," Activities ",2)])]),e.hihaComentaris?(c(),r("section",xs,[t("div",ws,[U(t("textarea",{"onUpdate:modelValue":a[13]||(a[13]=s=>e.comment=s),placeholder:"Type a new comment here",style:{"margin-top":"5px","margin-bottom":"5px"}},null,512),[[z,e.comment]]),t("button",{onClick:a[14]||(a[14]=s=>e.afegir_comentari()),style:{"margin-left":"5px"}},[i(m,{icon:"floppy-disk"})])]),t("div",null,[t("ul",null,[(c(!0),r(j,null,P(e.issue.comentaris.reverse(),(s,v)=>(c(),F(C,{key:v,comentari:s},null,8,["comentari"]))),128))])])])):(c(),r("section",Ts,[t("div",Cs,[t("ul",null,[(c(!0),r(j,null,P(e.issue.logs.reverse(),(s,v)=>(c(),F(K,{key:v,activity:s},null,8,["activity"]))),128))])])]))])]),t("div",js,[t("section",Ps,[Us,t("div",Ss,[i(B,null,{activator:l(({props:s})=>[i(T,R(s,{variant:"text"}),{default:l(()=>[y(u(e.estat),1)]),_:2},1040)]),default:l(()=>[i(D,null,{default:l(()=>[(c(!0),r(j,null,P(e.TEstats,(s,v)=>(c(),F(A,{key:v,value:v},{default:l(()=>[i(E,{onClick:L=>e.setEstat(s)},{default:l(()=>[y(u(s),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),i(m,{icon:"arrow-down",style:{"margin-top":"8px"}})]),Es]),t("section",As,[t("div",Ds,[t("div",Bs,[Is,i(B,null,{activator:l(({props:s})=>[i(T,R(s,{variant:"text"}),{default:l(()=>[y(u(e.tipus),1)]),_:2},1040)]),default:l(()=>[i(D,null,{default:l(()=>[(c(!0),r(j,null,P(e.TTipus,(s,v)=>(c(),F(A,{key:v,value:v},{default:l(()=>[i(E,{onClick:L=>e.setTipus(s)},{default:l(()=>[y(u(s),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),Vs,t("div",Ns,[Os,i(B,null,{activator:l(({props:s})=>[i(T,R(s,{variant:"text"}),{default:l(()=>[y(u(e.gravetat),1)]),_:2},1040)]),default:l(()=>[i(D,null,{default:l(()=>[(c(!0),r(j,null,P(e.TGravetat,(s,v)=>(c(),F(A,{key:v,value:v},{default:l(()=>[i(E,{onClick:L=>e.setGravetat(s)},{default:l(()=>[y(u(s),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),Ls,t("div",qs,[Ms,i(B,null,{activator:l(({props:s})=>[i(T,R({variant:"text"},s),{default:l(()=>[y(u(e.prioritat),1)]),_:2},1040)]),default:l(()=>[i(D,null,{default:l(()=>[(c(!0),r(j,null,P(e.TPrioritat,(s,v)=>(c(),F(A,{key:v,value:v},{default:l(()=>[i(E,{onClick:L=>e.setPrioritat(s)},{default:l(()=>[y(u(s),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),zs])]),t("section",Fs,[Rs,t("div",Gs,[t("div",Ws,[Hs,t("div",null,[e.issue.assignacio?(c(),r("div",Js,[t("img",{src:e.issue.assignacio.avatar,width:"60",height:"60"},null,8,Ks),t("a",{href:"/#/usuari/"+e.issue.assignacio.id,style:{"margin-top":"20px"}},u(e.issue.assignacio.nom),9,Qs),t("button",{onClick:a[15]||(a[15]=s=>e.esborrar_assignacio())},[i(m,{icon:"xmark"})])])):I("",!0)]),t("div",Xs,[i(q,{modelValue:e.selectAssign,"onUpdate:modelValue":a[17]||(a[17]=s=>e.selectAssign=s),width:"auto"},{activator:l(({props:s})=>[t("button",R({color:"primary"},s,{style:{"margin-right":"10px"},class:"ticket-users-actions"})," + Add assigned ",16)]),default:l(()=>[i(H,{width:"600px"},{default:l(()=>[i(N,null,{default:l(()=>[y(" Select user ")]),_:1}),i(W,null,{default:l(()=>[i(x,{placeholder:"Search for users"}),i(O,{type:"assign",users:e.allUsers,onUserSelect:e.assignSelect},null,8,["users","onUserSelect"]),i(T,{onClick:a[16]||(a[16]=s=>e.selectAssign=!1),color:"red",class:"mt-10 ml-16"},{default:l(()=>[y(" close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.issue.assignacio&&e.issue.assignacio.id==e.idUser?(c(),r("button",{key:0,class:"ticket-users-actions",style:{"maassignSelectautorgin-left":"5px"},onClick:a[18]||(a[18]=s=>e.esborrar_assignacio())}," Dont assign to me ")):(c(),r("button",{key:1,class:"ticket-users-actions",style:{"margin-left":"5px"},onClick:a[19]||(a[19]=s=>e.autoSelect(e.idUser))}," Assign to me "))])])])]),t("section",Ys,[Zs,t("div",$s,[t("div",ta,[ea,t("div",null,[t("ul",null,[(c(!0),r(j,null,P(e.issue.observadors,(s,v)=>(c(),r("li",{key:v},[t("div",sa,[t("img",{src:s.avatar,width:"60",height:"60"},null,8,aa),t("a",{href:"/#/usuari/"+s.id,style:{"margin-top":"20px"}},u(s.nom),9,ia),t("button",{onClick:L=>e.esborrar_observador(s.id)},[i(m,{icon:"xmark"})],8,oa)])]))),128))])]),t("div",na,[i(q,{modelValue:e.selectObs,"onUpdate:modelValue":a[21]||(a[21]=s=>e.selectObs=s),width:"auto"},{activator:l(({props:s})=>[t("button",R({color:"primary"},s,{style:{"margin-right":"10px"},class:"ticket-users-actions"})," + Add watchers ",16)]),default:l(()=>[i(H,{width:"400px"},{default:l(()=>[i(N,null,{default:l(()=>[y(" Add watchers ")]),_:1}),i(W,null,{default:l(()=>[i(x,{placeholder:"Search for users"}),i(O,{type:"obs",users:e.allUsers,onUserSelect:e.obsSelected},null,8,["users","onUserSelect"]),i(T,{onClick:a[20]||(a[20]=s=>e.selectObs=!1),color:"red",class:"mt-10 ml-16"},{default:l(()=>[y(" close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.autoObservador?(c(),r("button",{key:0,class:"ticket-users-actions",style:{"margin-left":"5px"},onClick:a[22]||(a[22]=s=>e.unWatchIssue())}," Unwatch ")):(c(),r("button",{key:1,class:"ticket-users-actions",style:{"margin-left":"5px"},onClick:a[23]||(a[23]=s=>e.selfWatch())}," Watch "))])])])]),t("section",la,[t("div",ca,[t("div",null,[e.issue.dataLimit?(c(),r("button",{key:0,style:{background:"red"},onClick:a[24]||(a[24]=s=>e.deleteTimeLine())},[i(m,{icon:"clock"})])):(c(),r("button",{key:1,onClick:a[25]||(a[25]=s=>e.showDatePickker=!0)},[i(m,{icon:"clock"})]))]),t("div",null,[e.issue.bloquejat?(c(),r("button",{key:0,style:{background:"red","margin-left":"5px"},onClick:a[26]||(a[26]=s=>e.deleteBlock())},[i(m,{icon:"lock"})])):(c(),r("button",{key:1,style:{"margin-left":"5px"},onClick:a[27]||(a[27]=s=>e.showBlock=!0)},[i(m,{icon:"lock"})]))]),t("div",ra,[i(q,{modelValue:e.dialogTrash,"onUpdate:modelValue":a[30]||(a[30]=s=>e.dialogTrash=s),width:"auto"},{activator:l(({props:s})=>[t("button",st(at(s)),[i(m,{icon:"trash"})],16)]),default:l(()=>[i(H,{width:"600px",class:"pa-5"},{default:l(()=>[da,t("div",ua,[_a,t("p",ma,u(e.issueTitle),1),t("div",va,[i(T,{onClick:a[28]||(a[28]=s=>e.dialogTrash=!1),variant:"text"},{default:l(()=>[y(" Cancel ")]),_:1}),i(T,{onClick:a[29]||(a[29]=s=>e.deleteIssue()),color:"red",class:"ml-15"},{default:l(()=>[y(" Delete ")]),_:1})])])]),_:1})]),_:1},8,["modelValue"])])])]),U(t("div",ha,[U(t("input",{type:"date",id:"datePickerInput",name:"dataLimit","onUpdate:modelValue":a[31]||(a[31]=s=>e.date=s)},null,512),[[z,e.date]]),t("button",{onClick:a[32]||(a[32]=s=>e.btnSaveDateDirect()),style:{"margin-left":"5px"}},[i(m,{icon:"floppy-disk"})])],512),[[Z,e.showDatePickker]]),U(t("div",fa,[U(t("input",{type:"text",id:"inputMotiuBloqueig",name:"motiuBloqueig","onUpdate:modelValue":a[33]||(a[33]=s=>e.motiuBlock=s)},null,512),[[z,e.motiuBlock]]),t("button",{onClick:a[34]||(a[34]=(...s)=>e.btnSaveMotiuBloqueig&&e.btnSaveMotiuBloqueig(...s))},[i(m,{icon:"floppy-disk"})])],512),[[Z,e.showBlock]])])])])):I("",!0)}const ba=J(Ee,[["render",ga],["__scopeId","data-v-f8f38390"]]);export{ba as default};
