import{_ as V,N as w,r as i,s as v,a as b,o as m,c,b as y,e,w as C,h as u,v as p,F as P,f as B,p as D,i as N}from"./index-459c7c07.js";const T={name:"UsuariPerfil",components:{NavBar:w},setup(){let t=window.location.href.split("/");i(t[t.length-1]);let n=i([]),a=i(""),f=i(""),g=i(""),_=i(""),d=i(),h=i("");async function s(){let o=new FormData;o.append("username",a.value),o.append("email",f.value),o.append("nom",g.value),o.append("bio",_.value),o.append("avatar",h.value[0]),await v("usuaris/1","PUT",o,"formData"),await v("usuaris/1/","GET","").then(U=>d.value=U.avatar)}async function x(){await new Promise(o=>setTimeout(o,3e3)),d.value="https://issuestorage.s3.amazonaws.com/media/default.png"}return{allUsers:n,username:a,email:f,nom:g,bio:_,avatar:h,avatarUrl:d,setAvatarPerDefecte:x,saveChanges:s}},mounted(){let t=window.location.href.split("/");t[t.length-1],v("usuaris/1/","GET","").then(n=>{this.username=n.username,this.email=n.email,this.nom=n.nom,this.bio=n.bio,this.avatarUrl=n.avatar}),v("usuaris/","GET","").then(n=>this.allUsers=n)},components:{NavBar:w}},l=r=>(D("data-v-efccbaec"),r=r(),N(),r),k={class:"master",style:{width:"100%",display:"grid","place-content":"center"}},A=l(()=>e("br",null,null,-1)),E=l(()=>e("header",null,[e("h1",{style:{color:"#1e96b1"}},"Configuració d'usuari")],-1)),S={class:"main user-profile",style:{display:"grid","grid-template-columns":"30% 67% 20%",gap:"20px"}},F={class:"project-details-image"},G={class:"image-container"},I=["src"],j={class:"add-attach"},M=l(()=>e("button",{type:"submit",id:"btnSaveAvatar",style:{display:"none"},name:"guardar_avatar",class:"btn-small button-full js-change-avatar"},null,-1)),z=l(()=>e("p",{style:{color:"#1e96b1"}},"     Avatar per defecte",-1)),L=[z],Y={class:"project-details-form-data"},q=l(()=>e("label",{for:"username"},"Username",-1)),H=l(()=>e("label",{for:"email"},"Email",-1)),J=l(()=>e("label",{for:"first_name"},"Nom",-1)),K=l(()=>e("label",{for:"bio"},"Bio",-1)),O={class:"submit"},Q=l(()=>e("br",null,null,-1)),R=l(()=>e("a",{href:"/"},[e("p",{style:{color:"#1e96b1","margin-left":"380px"}},"     Tancar sessió")],-1)),W={class:"timeline-wrapper",style:{"margin-left":"30px",width:"130px"}},X=l(()=>e("h1",{style:{"white-space":"nowrap"}},"Your team",-1)),Z=["href"],$=["src"];function ee(r,t,n,a,f,g){const _=b("NavBar"),d=b("font-awesome-icon"),h=b("v-file-input");return m(),c("div",null,[y(_),e("div",k,[A,E,e("section",S,[e("div",F,[e("fieldset",G,[e("img",{src:a.avatarUrl,width:"180",height:"180"},null,8,I)]),e("div",j,[y(h,{style:{width:"180px"},label:"Canviar foto",width:"180",modelValue:a.avatar,"onUpdate:modelValue":t[0]||(t[0]=s=>a.avatar=s)},{default:C(()=>[y(d,{icon:"plus"})]),_:1},8,["modelValue"])]),M,e("button",{type:"submit",name:"guardar_avatar_defecte",class:"botonMenu",onClick:t[1]||(t[1]=(...s)=>a.setAvatarPerDefecte&&a.setAvatarPerDefecte(...s))},L)]),e("div",Y,[e("fieldset",null,[q,u(e("input",{type:"text",name:"username","onUpdate:modelValue":t[2]||(t[2]=s=>a.username=s)},null,512),[[p,a.username]])]),e("fieldset",null,[H,u(e("input",{type:"text",name:"email","onUpdate:modelValue":t[3]||(t[3]=s=>a.email=s)},null,512),[[p,a.email]])]),e("fieldset",null,[J,u(e("input",{type:"text",name:"first_name","onUpdate:modelValue":t[4]||(t[4]=s=>a.nom=s)},null,512),[[p,a.nom]])]),e("fieldset",null,[K,a.bio?u((m(),c("textarea",{key:0,"onUpdate:modelValue":t[5]||(t[5]=s=>a.bio=s),name:"bio",id:"bio",class:"ng-pristine ng-valid ng-not-empty ng-valid-maxlenght ng-touched",style:{width:"500px",height:"227px"}},null,512)),[[p,a.bio]]):u((m(),c("textarea",{key:1,name:"bio","onUpdate:modelValue":t[6]||(t[6]=s=>a.bio=s),id:"bio",class:"ng-pristine ng-valid ng-not-empty ng-valid-maxlenght ng-touched",placeholder:"Digues alguna cosa sobre tu",style:{width:"500px",height:"227px"}},null,512)),[[p,a.bio]])]),e("fieldset",O,[e("button",{onClick:t[7]||(t[7]=(...s)=>a.saveChanges&&a.saveChanges(...s)),name:"guardar_info",variant:"primary",title:"Save",class:"btn-small",style:{"margin-left":"400px"}}," Guardar ")]),Q,R]),e("div",W,[X,e("div",null,[(m(!0),c(P,null,B(a.allUsers,s=>(m(),c("a",{href:"/usuari/"+s.id},[e("img",{src:s.avatar,width:"32",height:"32",style:{"border-radius":"50%","margin-right":"5px"}},null,8,$)],8,Z))),256))])])])])])}const ae=V(T,[["render",ee],["__scopeId","data-v-efccbaec"]]);export{ae as default};
