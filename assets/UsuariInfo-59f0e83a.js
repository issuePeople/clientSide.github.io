import{_ as w,r as h,s as y,a as b,o as t,c as _,e,t as n,j as u,b as p,d as a,F as m,f as k,p as x,i as L}from"./index-b554e5a7.js";const C={name:"UsuariInfo",setup(){let o=window.location.href.split("/");h(o[o.length-1]);let c=h("timeline"),i=h([]),g=h([]);function f(d){y("usuaris/"+d+"/","GET","").then(s=>this.userLogged=s)}return{userLogged:g,allUsers:i,mostrar:c,updateData:f}},mounted(){let o=window.location.href.split("/"),c=o[o.length-1];y("usuaris/","GET","").then(i=>this.allUsers=i),y("usuaris/"+c+"/","GET","").then(i=>this.userLogged=i)}},l=r=>(x("data-v-8b93e4b4"),r=r(),L(),r),N={class:"profile centered",style:{"margin-left":"50px"}},T={class:"profile-bar"},I={key:0},U=["src"],D={key:1},S=["src"],E={class:"profile-data"},V={key:0,class:"not-full-name"},j={key:1,class:"not-full-name"},z=l(()=>e("p",null,"Nom no trobat",-1)),B=[z],F={key:2,class:"username"},G={key:3,class:"username"},W=l(()=>e("p",null,"@UsernameNoTrobat",-1)),q=[W],A=l(()=>e("div",{class:"profile-stats"},[e("div",{class:"stat"})],-1)),Y={key:2,class:"profile-quote"},H={class:"main"},J={style:{width:"450px","border-collapse":"separate","border-spacing":"0px 5px"}},K=l(()=>e("td",null,[e("h1",null," ")],-1)),M=l(()=>e("h1",null,[a(" "),e("u",null,"Timeline"),a("   ")],-1)),O=[M],P=l(()=>e("h1",null," Timeline   ",-1)),Q=[P],R=l(()=>e("h1",null,[a(" "),e("u",null,"Watched"),a("   ")],-1)),X=[R],Z=l(()=>e("h1",null," Watched   ",-1)),$=[Z],ee={key:0},se={key:1},te=l(()=>e("h1",null,[a(" "),e("u",null,"Token"),a(" ")],-1)),_e=[te],ie=l(()=>e("h1",null," Token ",-1)),oe=[ie],ne=l(()=>e("p",{style:{color:"darkgrey"}},"______________________________________________________________________________",-1)),ae={key:0,class:"watched"},le={class:"issues-table",style:{width:"100%","border-collapse":"separate","border-spacing":"0 10px"}},re={style:{display:"flex","align-items":"center"}},de={key:0,style:{display:"flex","align-items":"center"}},ce=["src"],he={key:1,style:{display:"flex","align-items":"center"}},ue=["src"],ye={key:2},pe=["href"],me=l(()=>e("p",{style:{color:"darkgrey"}},"______________________________________________________________________________",-1)),ke={key:1,class:"token"},ge={key:2,class:"timeline"},fe={class:"issue-page",style:{width:"100%"}},ve={class:"issues-table",style:{width:"100%","border-collapse":"separate","border-spacing":"0 10px"}},we={class:"row table-main",style:{"background-color":"white"}},be={style:{display:"flex","align-items":"center"}},xe=["src"],Le={style:{display:"inline-block"}},Ce=["href"],Ne={key:0,style:{display:"inline"}},Te={key:1,style:{display:"inline"}},Ie={key:0,style:{display:"inline"}},Ue={key:1,style:{display:"inline"}},De={key:2,style:{display:"inline"}},Se={key:0,style:{display:"inline"}},Ee={key:1,style:{display:"inline"}},Ve={key:3,style:{display:"inline"}},je={key:0,style:{display:"inline"}},ze={key:1,style:{display:"inline"}},Be={key:4,style:{display:"inline"}},Fe={key:0,style:{display:"inline"}},Ge={key:1,style:{display:"inline"}},We={key:5,style:{display:"inline"}},qe={key:0,style:{display:"inline"}},Ae={key:1,style:{display:"inline"}},Ye={key:2,style:{display:"inline"}},He={key:3,style:{display:"inline"}},Je=l(()=>e("span",{style:{display:"inline"}},"issue ",-1)),Ke={key:6},Me=["href"],Oe={key:7},Pe=l(()=>e("p",null," ",-1)),Qe={style:{color:"darkgrey","font-size":"15px"}},Re=l(()=>e("p",{style:{color:"darkgrey"}},"__________________________________________________________________________________________",-1)),Xe={class:"timeline-wrapper",style:{"margin-left":"30px",width:"130px"}},Ze=l(()=>e("h1",{style:{"white-space":"nowrap"}},"Your team",-1)),$e=["href","onClick"],es=["src"];function ss(r,o,c,i,g,f){const d=b("font-awesome-icon");return t(),_("div",N,[e("section",T,[i.userLogged.avatar?(t(),_("div",I,[e("img",{src:i.userLogged.avatar,width:"200",height:"200"},null,8,U)])):(t(),_("div",D,[e("img",{src:"https://issuestorage.s3.us-west-2.amazonaws.com/media/avatar/unnamed.png",width:"200",height:"200"},null,8,S)])),e("div",E,[i.userLogged.nom?(t(),_("h1",V,[e("p",null,n(i.userLogged.nom),1)])):(t(),_("h1",j,B)),i.userLogged.username?(t(),_("div",F,[e("p",null,"@"+n(i.userLogged.username),1)])):(t(),_("div",G,q))]),A,i.userLogged.bio?(t(),_("div",Y,[e("span",null,n(i.userLogged.bio),1)])):u("",!0)]),e("div",H,[e("div",null,[e("table",J,[e("tr",null,[K,e("td",null,[e("h1",{onClick:o[0]||(o[0]=s=>i.mostrar="timeline"),style:{cursor:"default"}},[p(d,{icon:"lock"})])]),e("td",null,[i.mostrar==="timeline"?(t(),_("a",{key:0,onClick:o[1]||(o[1]=s=>i.mostrar="timeline"),style:{cursor:"default"}},O)):(t(),_("a",{key:1,onClick:o[2]||(o[2]=s=>i.mostrar="timeline"),style:{cursor:"default"}},Q))]),e("td",null,[e("a",{onClick:o[3]||(o[3]=s=>i.mostrar="watched"),style:{cursor:"default"}},[e("h1",null,[a(" "),p(d,{icon:"lock"})])])]),e("td",null,[i.mostrar==="watched"?(t(),_("a",{key:0,onClick:o[4]||(o[4]=s=>i.mostrar="watched"),style:{cursor:"default"}},X)):(t(),_("a",{key:1,onClick:o[5]||(o[5]=s=>i.mostrar="watched"),style:{cursor:"default"}},$))]),i.userLogged.token?(t(),_("td",ee,[e("a",{onClick:o[6]||(o[6]=s=>i.mostrar="token"),style:{cursor:"default"}},[e("h1",null,[p(d,{icon:"lock"})])])])):u("",!0),i.userLogged.token?(t(),_("td",se,[i.mostrar==="token"?(t(),_("a",{key:0,onClick:o[7]||(o[7]=s=>i.mostrar="token"),style:{cursor:"default"}},_e)):(t(),_("a",{key:1,onClick:o[8]||(o[8]=s=>i.mostrar="token"),style:{cursor:"default"}},oe))])):u("",!0)])]),ne,e("div",null,[i.mostrar==="watched"?(t(),_("section",ae,[e("table",le,[(t(!0),_(m,null,k(i.userLogged.observats,s=>(t(),_("tr",null,[e("td",null,[e("div",re,[s.assignacio?(t(),_("div",de,[e("img",{src:s.assignacio.avatar,width:"40",height:"40",style:{"border-radius":"50%","margin-right":"5px"}},null,8,ce)])):(t(),_("div",he,[e("img",{src:"https://issuestorage.s3.us-west-2.amazonaws.com/media/avatar/unnamed.png",width:"40",height:"40",style:{"border-radius":"50%","margin-right":"5px"}},null,8,ue)])),s.assignacio?(t(),_("span",ye,n(s.assignacio.username)+" ",1)):u("",!0),e("a",{href:"/#/edit/"+s.id},"#"+n(s.id)+" "+n(s.subject),9,pe),a("  "+n(s.estat),1)]),me])]))),256))])])):i.userLogged.token&&i.mostrar==="token"?(t(),_("section",ke,[e("p",null,"Token "+n(i.userLogged.token),1)])):(t(),_("section",ge,[e("div",fe,[e("table",ve,[(t(!0),_(m,null,k(i.userLogged.logs,s=>(t(),_("tr",we,[e("td",null,[e("div",be,[e("img",{src:s.usuari.avatar,width:"40",height:"40",style:{"border-radius":"50%","margin-right":"5px"}},null,8,xe),e("div",Le,[e("a",{onClick:o[9]||(o[9]=v=>i.updateData(r.usuari.id)),href:"/#/usuari/"+s.usuari.id},n(s.usuari.username)+"  ",9,Ce),s.tipus==="Creada"?(t(),_("span",Ne,"ha creat l'")):s.tipus==="Nou attachment"?(t(),_("span",Te,[a("ha afegit el fitxer "),s.valor_nou?(t(),_("a",Ie,n(s.valor_nou),1)):(t(),_("a",Ue,"No definit")),a(" al ")])):s.tipus==="Attachment esborrat"?(t(),_("span",De,[a("ha esborrat el fitxer "),s.valor_previ?(t(),_("span",Se,n(s.valor_previ),1)):(t(),_("span",Ee,"No definit")),a(" al ")])):s.tipus==="Tag afegida"?(t(),_("span",Ve,[a("ha afegit el tag "),s.valor_nou?(t(),_("a",je,n(s.valor_nou),1)):(t(),_("a",ze,"No definit")),a(" al ")])):s.tipus==="Tag esborrada"?(t(),_("span",Be,[a("ha esborrat el tag "),s.valor_previ?(t(),_("span",Fe,n(s.valor_previ),1)):(t(),_("span",Ge,"No definit")),a(" al ")])):(t(),_("span",We,[a("ha canviat l'atribut "+n(s.tipus)+" de ",1),s.valor_nou?(t(),_("a",qe,n(s.valor_nou),1)):(t(),_("a",Ae,"No definit")),a(" a "),s.valor_previ?(t(),_("span",Ye,n(s.valor_previ),1)):(t(),_("span",He,"No definit")),a(" del ")])),Je,s.issue?(t(),_("span",Ke,[e("a",{href:"/#/edit/"+s.issue.id},"#"+n(s.issue.id)+" "+n(s.issue.subject),9,Me)])):(t(),_("span",Oe,"esborrat"))])]),Pe,e("p",Qe,n(new Date(s.data).toLocaleString()),1),Re])]))),256))])])]))])])]),e("div",Xe,[Ze,e("div",null,[(t(!0),_(m,null,k(i.allUsers,s=>(t(),_("a",{href:"/#/usuari/"+s.id,onClick:v=>i.updateData(s.id)},[e("img",{src:s.avatar,width:"32",height:"32",style:{"border-radius":"50%","margin-right":"5px"}},null,8,es)],8,$e))),256))])])])}const _s=w(C,[["render",ss],["__scopeId","data-v-8b93e4b4"]]);export{_s as default};
