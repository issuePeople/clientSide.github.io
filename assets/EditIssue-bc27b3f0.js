import{_ as K,o as l,c as r,b as t,t as d,u as Ct,r as y,s as _,l as jt,a as f,d as n,h as L,F as w,e as T,i as C,k as J,v as N,g as b,w as c,n as Z,q as Ut,j as q,m as M,p as Pt,f as Et}from"./index-9fe29b53.js";import{S as St}from"./SelectUsers-218ba8e5.js";const Dt={name:"ActivitesEdit",props:{activity:Object},setup(){return{}}},Bt={style:{display:"flex","justify-content":"space-between","margin-left":"5px","margin-right":"5px","margin-top":"5px","border-bottom":"0.5px solid grey"}},At={style:{display:"flex","justify-content":"space-between","margin-top":"10px","margin-bottom":"20px"}},It=["src"],Vt={style:{"margin-left":"10px"}},Ot={style:{display:"flex","margin-left":"5px"}},Lt={href:"/usuaris/{{activity.usuari.id}}",style:{"margin-right":"5px"},class:"comment-creator"},Nt={key:0,class:"diff-status-wrapper",style:{"margin-top":"20px"}},qt=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"Creada: ",-1),Mt=t("span",{style:{"margin-left":"5px"},class:"diff"},"userHardcoded",-1),Ft=[qt,Mt],Gt={key:1,class:"diff-status-wrapper",style:{"margin-top":"20px"}},Wt=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"New attachment: ",-1),zt={style:{"margin-left":"5px"},class:"diff"},Rt={key:2,class:"diff-status-wrapper",style:{"margin-top":"20px"}},Ht=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"Deleted attachment: ",-1),Qt={style:{"margin-left":"5px"},class:"diff"},Jt={key:3,class:"diff-status-wrapper",style:{"margin-top":"20px"}},Kt=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"Tags added: ",-1),Xt={style:{"margin-left":"5px"},class:"diff"},Yt={key:4,class:"diff-status-wrapper",style:{"margin-top":"20px"}},Zt=t("span",{style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},"Tags removed: ",-1),$t={style:{"margin-left":"5px"},class:"diff"},te={key:5,class:"diff-status-wrapper",style:{"margin-top":"20px"}},ee={style:{"background-color":"#e2e3e9","font-weight":"bold"},class:"key"},se={style:{"margin-left":"5px"},class:"diff"};function ie(k,i,u,e,F,A){return l(),r("li",null,[t("div",Bt,[t("div",At,[t("img",{src:u.activity.usuari.avatar,width:"60",height:"60"},null,8,It),t("div",Vt,[t("div",Ot,[t("a",Lt,d(u.activity.usuari.nom),1),t("span",null,d(u.activity.data),1)]),u.activity.tipus==="Creada"?(l(),r("div",Nt,Ft)):u.activity.tipus==="Nou attachment"?(l(),r("div",Gt,[Wt,t("span",zt,d(u.activity.valor_nou),1)])):u.activity.tipus==="Attachment esborrat"?(l(),r("div",Rt,[Ht,t("span",Qt,d(u.activity.valor_previ),1)])):u.activity.tipus==="Tag afegida"?(l(),r("div",Jt,[Kt,t("span",Xt,d(u.activity.valor_nou),1)])):u.activity.tipus==="Tag esborrada"?(l(),r("div",Yt,[Zt,t("span",$t,d(u.activity.valor_previ),1)])):(l(),r("div",te,[t("span",ee,d(u.activity.tipus)+": ",1),t("span",se,d(u.activity.valor_previ)+" > "+d(u.activity.valor_nou),1)]))])])])])}const oe=K(Dt,[["render",ie]]),ae={name:"ComentarisEdit",props:{comentari:Object},setup(){return{}}},ne={style:{"border-bottom":"0.5px solid grey"}},le={style:{display:"flex","margin-left":"5px","margin-right":"5px","margin-top":"10px","margin-bottom":"20px"}},ce=["src"],re={style:{"margin-left":"10px"}},de={style:{display:"flex","justify-content":"space-between"}},ue={href:"/usuaris/{{comentari.autor.id}}",style:{"margin-right":"5px"},class:"comment-creator"};function _e(k,i,u,e,F,A){return l(),r("li",null,[t("div",ne,[t("div",le,[t("img",{src:u.comentari.autor.avatar,width:"60",height:"60"},null,8,ce),t("div",re,[t("div",de,[t("a",ue,d(u.comentari.autor.nom),1),t("span",null,d(u.comentari.data),1)]),t("span",null,d(u.comentari.text),1)])])])])}const ve=K(ae,[["render",_e]]);const me={name:"listIssue",components:{ActivitiesEdit:oe,ComentarisEdit:ve,SelectUsers:St},setup(){const k=Ct();let u=window.location.href.split("/"),e=y(u[u.length-1]),F=y(""),A=y(""),I=y(""),m=y(""),S=y();const R=["new","In progress","Ready for test","Closed","Needs info","Rejected","Postponed"],H=["Bug","Question","Enhancement"],j=["Wishlist","Minor","Normal","Important","Critical"],V=["Low","Normal","High"];let U=y("new"),P=y("Bug"),E=y("Wishlist"),O=y("Low"),D=y(),B=y(24),G=y(!0),W=y(!0),s=y(!1),v=y(!1),x=y(!1),$=y(!1),Q=y([]);_("usuaris/","GET","").then(o=>Q.value=o),console.log("all Users: ",Q.value);let X=y(),Y=y(""),z=y("");const tt=jt(()=>{let o=!1;for(let a of D.value.observadors)a.id==B.value&&(o=!0);return o});async function et(){console.log("Attachment: ",S.value),console.log("File: ",S.value[0]);const o=new FormData;o.append("document",S.value[0]),o.append("file",S.value[0]),await _("issues/"+e.value+"/attachments/","POST",o,"formData"),g()}function st(o){const a=o.split("/");return a[a.length-1]}async function it(){let o={observador:B.value};await _("issues/"+e.value+"/observadors/","POST",o).then(a=>console.log("PUT",a)),g()}async function ot(o){console.log("new obs: ",o.id);let a={observador:o.id};await _("issues/"+e.value+"/observadors/","POST",a).then(p=>console.log("PUT",p)),g()}async function at(){await _("issues/"+e.value+"/observadors/"+B.value,"DELETE").then(o=>console.log("PUT",o)),g()}async function nt(o){await _("issues/"+e.value+"/observadors/"+o,"DELETE").then(a=>console.log("PUT",a)),g()}function lt(o){U.value=o;let a;switch(U.value){case"new":a="N";break;case"In progress":a="D";break;case"Ready for test":a="T";break;case"Closed":a="C";break;case"Needs info":a="I";break;case"Rejected":a="R";break;case"Postponed":a="P";break;default:a="B"}let p={estat:a};_("issues/"+e.value+"/","PUT",p)}function ct(o){P.value=o;let a;switch(P.value){case"Bug":a="B";break;case"Question":a="P";break;case"Enhancement":a="M";break;default:a="B"}let p={tipus:a};_("issues/"+e.value+"/","PUT",p)}function rt(o){E.value=o;let a;switch(E.value){case"Wishlist":a="D";break;case"Minor":a="M";break;case"Normal":a="N";break;case"Important":a="I";break;case"Critical":a="C";break;default:a="D"}let p={gravetat:a};_("issues/"+e.value+"/","PUT",p)}function dt(o){O.value=o;let a;switch(O.value){case"High":a="A";break;case"Normal":a="M";break;case"Low":a="B";break;default:a="A"}let p={prioritat:a};_("issues/"+e.value+"/","PUT",p)}async function ut(){console.log("issue deleted"),await _("issues/"+e.value,"DELETE"),k.push("/")}async function _t(o){console.log("esborrar attachment: ",o),await _("issues/"+e.value+"/attachments/"+o.id,"DELETE"),g()}async function vt(o){console.log("esborrar tag issue: ",o.nom),await _("issues/"+e.value+"/tags/"+o.nom,"DELETE"),g()}async function mt(){let o={nom:I.value,color:m.value};await _("issues/"+e.value+"/tags/","POST",o),g(),G.value=!0}async function yt(){console.log("guardar descripcio: ",A.value);let o={descripcio:A.value};await _("issues/"+e.value+"/","PUT",o),g()}async function gt(){let o={subject:F.value};await _("issues/"+e.value+"/","PUT",o),g()}async function ht(){console.log("comment added: ",z.value);let o={text:z.value};await _("issues/"+e.value+"/comentaris/","POST",o).then(a=>console.log("POST",a)),g(),z.value=""}async function ft(o){console.log("new assign: ",o),console.log("new assign: ",o.id),x.value=!1;let a={assignacio_id:o.id};await _("issues/"+e.value+"/","PUT",a).then(p=>console.log("PUT",p)),g()}async function pt(o){console.log("auto select: ",o),x.value=!1;let a={assignacio_id:o};await _("issues/"+e.value+"/","PUT",a).then(p=>console.log("PUT",p)),g()}async function bt(){console.log("esborrar assignacio");let o={assignacio_id:null};await _("issues/"+e.value+"/","PUT",o).then(a=>D.value=a),g()}async function kt(){let o={dataLimit:null};await _("issues/"+e.value+"/","PUT",o).then(a=>console.log("PUT",a)),g()}async function xt(){let o={bloquejat:!1,motiuBloqueig:""};await _("issues/"+e.value+"/","PUT",o).then(a=>console.log("PUT",a)),g()}async function wt(){s.value=!1;let o={dataLimit:new Date(X.value).toISOString()};await _("issues/"+e.value+"/","PUT",o).then(a=>console.log("PUT",a)),g()}async function Tt(){let o={bloquejat:!0,motiuBloqueig:Y.value};v.value=!1,await _("issues/"+e.value+"/","PUT",o).then(a=>console.log("PUT",a)),g()}function g(){_("issues/"+e.value+"/","GET","").then(o=>D.value=o)}return{nomTag:I,colorTag:m,comment:z,issueTitle:F,issueDesc:A,issue:D,hihaComentaris:W,addTag:G,TEstats:R,TTipus:H,TGravetat:j,TPrioritat:V,estat:U,tipus:P,gravetat:E,prioritat:O,idUser:B,showDatePickker:s,showBlock:v,autoObservador:tt,selectAssign:x,selectObs:$,allUsers:Q,date:X,motiuBlock:Y,attachmentFile:S,esborrar_observador:nt,esborrar_assignacio:bt,esborrar_tag_issue:vt,esborrar_attachment:_t,addAttachment:et,guardarDesc:yt,deleteBlock:xt,deleteTimeLine:kt,setEstat:lt,setTipus:ct,setPrioritat:dt,setGravetat:rt,saveEdit:gt,obsSelected:ot,assignSelect:ft,actualitzarInfo:g,btnSaveMotiuBloqueig:Tt,btnSaveDateDirect:wt,afegir_comentari:ht,addTagFetch:mt,deleteIssue:ut,unWatchIssue:at,autoSelect:pt,selfWatch:it,attachmentName:st}},mounted(){let i=window.location.href.split("/"),u=i[i.length-1];_("issues/"+u+"/","GET","").then(e=>{this.issue=e,this.issueTitle=e.subject,this.issueDesc=e.descripcio,this.showBlock=e.bloquejat,e.dataLimit!=null?this.showDatePickker=!0:this.showDatePickker=!1}),console.log("issueObject: ",this.issue)}},h=k=>(Pt("data-v-d37c14c8"),k=k(),Et(),k),ye={key:0,class:"master"},ge={class:"wrapper"},he={class:"main detail"},fe={class:"detail-header-container"},pe={class:"detail-header"},be={class:"detail-title-wrapper"},ke={class:"detail-ref"},xe={class:"issue-text",style:{display:"inline-flex"}},we={class:"issue-ref"},Te=h(()=>t("div",{class:"detail-project"},[t("div",{class:"section-name"},"Issue")],-1)),Ce={key:0,class:"detail-header-line block-desc-container"},je={class:"blocked-sign",style:{color:"white"}},Ue={class:"block-description",style:{"margin-left":"5px",color:"#e5e5e5"}},Pe={key:1,class:"detail-header-line block-desc-container"},Ee={class:"blocked-sign",style:{color:"white"}},Se={class:"block-description",style:{"margin-left":"5px",color:"#e5e5e5"}},De=h(()=>t("div",{class:"action-buttons"},null,-1)),Be={class:"subheader"},Ae={class:"tags-container",style:{display:"flex","justify-content":"space-between"}},Ie={style:{display:"flex","justify-content":"space-between"}},Ve={style:{"margin-top":"auto","margin-bottom":"auto","margin-right":"5px","margin-left":"5px"}},Oe=["onClick"],Le=h(()=>t("span",null,"Add tag",-1)),Ne=h(()=>t("span",{style:{"font-size":"20px"}},"+",-1)),qe=[Le,Ne],Me={style:{display:"flex","justify-content":"space-between"}},Fe={style:{display:"flex","justify-content":"space-between"}},Ge={class:"created-by"},We={class:"created-date"},ze={class:"user-avatar",style:{"margin-left":"5px"}},Re=["src"],He={class:"detail-content"},Qe={class:"duty-content",style:{"justify-content":"flex-start"}},Je={style:{display:"flex","justify-content":"space-between"}},Ke={style:{"margin-top":"10px"},class:"attachments attachments-full"},Xe={class:"attachments-header"},Ye={class:"attachment-title",style:{"margin-left":"5px"}},Ze={class:"attachments-num"},$e=h(()=>t("span",{class:"attachments-text",style:{"margin-left":"5px"}},"Attachments",-1)),ts={class:"options"},es={class:"add-attach"},ss={class:"attachment-list sortable"},is={style:{"margin-top":"5px","margin-left":"5px","border-bottom":"1px solid rgb(168, 168, 168)","font-size":"15px"}},os={style:{display:"flex","justify-content":"space-between"}},as=["href"],ns=["onClick"],ls={class:"history"},cs={class:"history-tabs",style:{padding:"5px"}},rs={key:0,class:"comment"},ds={style:{display:"flex","justify-content":"space-between"}},us={key:1,class:"activities"},_s={class:"activities-wrapper"},vs={class:"sidebar ticket-data"},ms={class:"ticket-header"},ys=h(()=>t("span",{class:"ticket-title ng-pristine ng-valid ng-untouched ng-not-empty"},[t("span",null,"Open")],-1)),gs={style:{"background-color":"whitesmoke",display:"flex","justify-content":"space-between"}},hs=h(()=>t("button",{id:"btnSaveState",type:"submit",name:"guardar_estat",style:{display:"none"}},null,-1)),fs={class:"ticket-section ticket-data-container"},ps={class:"ticket-data-container"},bs={style:{display:"flex","justify-content":"space-between"}},ks=h(()=>t("label",null," type ",-1)),xs=h(()=>t("button",{id:"btnSaveType",type:"submit",name:"guardar_tipus",style:{display:"none"}},null,-1)),ws={style:{display:"flex","justify-content":"space-between"}},Ts=h(()=>t("label",null," severity ",-1)),Cs=h(()=>t("button",{id:"btnSaveGrav",type:"submit",name:"guardar_gravetat",style:{display:"none"}},null,-1)),js={style:{display:"flex","justify-content":"space-between"}},Us=h(()=>t("label",null," priority ",-1)),Ps=h(()=>t("button",{id:"btnSavePrior",type:"submit",name:"guardar_prioritat",style:{display:"none"}},null,-1)),Es={class:"ticket-section ng-pristine ng-untouched ng-valid ng-not-empty"},Ss=h(()=>t("div",{class:"ticket-section-label"},[t("span",null,"Assigned")],-1)),Ds={class:"ticket-user-list-container"},Bs={class:"ticket-user-list-content"},As=h(()=>t("div",{class:"ticket-user-list"},null,-1)),Is={key:0,style:{display:"flex","justify-content":"space-between","margin-left":"5px","margin-right":"5px"}},Vs=["src"],Os=["href"],Ls={class:"ticket-users-actions"},Ns={class:"ticket-section ticket-watchers"},qs=h(()=>t("div",{class:"ticket-section-label"},[t("span",null,"Watchers")],-1)),Ms={class:"ticket-user-list-container"},Fs={class:"ticket-user-list-content"},Gs=h(()=>t("div",{class:"ticket-user-list"},null,-1)),Ws={style:{display:"flex","justify-content":"space-between","margin-left":"5px","margin-right":"5px","margin-top":"5px"}},zs=["src"],Rs=["href"],Hs=["onClick"],Qs={class:"ticket-users-actions"},Js={class:"ticket-section ticket-detail-settings"},Ks={class:"ticket-detail-settings"},Xs={style:{"margin-left":"5px"}},Ys={style:{display:"flex","justify-content":"space-between"}},Zs={style:{display:"flex","justify-content":"space-between"}};function $s(k,i,u,e,F,A){const I=f("v-text-field"),m=f("font-awesome-icon"),S=f("v-file-input"),R=f("ComentarisEdit"),H=f("ActivitiesEdit"),j=f("v-btn"),V=f("v-list-item-title"),U=f("v-list-item"),P=f("v-list"),E=f("v-menu"),O=f("v-card-title"),D=f("SelectUsers"),B=f("v-card-text"),G=f("v-card"),W=f("v-dialog");return e.issue?(l(),r("div",ye,[t("div",ge,[t("div",he,[t("div",fe,[t("div",pe,[t("div",be,[t("div",ke,[t("span",xe,[t("span",we,"#"+d(e.issue.id),1),n(I,{modelValue:e.issueTitle,"onUpdate:modelValue":i[0]||(i[0]=s=>e.issueTitle=s),style:{"margin-top":"3px","margin-left":"5px","font-size":"25px",width:"300px"},class:"detail-subject"},null,8,["modelValue"])]),t("button",{style:{background:"none"},onClick:i[1]||(i[1]=s=>e.saveEdit())},[n(m,{icon:"floppy-disk"})])])]),Te,e.issue.dataLimit?(l(),r("div",Ce,[t("span",je,[n(m,{icon:"clock"})]),t("span",Ue,d(e.issue.dataModificacio),1)])):L("",!0),e.issue.bloquejat?(l(),r("div",Pe,[t("span",Ee,[n(m,{icon:"lock"})]),t("span",Se,d(e.issue.motiuBloqueig),1)])):L("",!0),De,t("div",Be,[t("div",Ae,[t("div",Ie,[(l(!0),r(w,null,T(e.issue.tags,s=>(l(),r("div",{key:s,class:"tag my-tag",style:Ut({"background-color":s.color})},[t("span",Ve,d(s.nom),1),t("button",{onClick:v=>e.esborrar_tag_issue(s)},[n(m,{icon:"xmark"})],8,Oe)],4))),128)),e.addTag?(l(),r("button",{key:0,class:"btn-filter ng-animate-disabled",onClick:i[2]||(i[2]=s=>e.addTag=!1)},qe)):L("",!0),C(t("div",Me,[C(t("input",{"onUpdate:modelValue":i[3]||(i[3]=s=>e.nomTag=s),type:"text",placeholder:"Enter tag"},null,512),[[N,e.nomTag]]),C(t("input",{"onUpdate:modelValue":i[4]||(i[4]=s=>e.colorTag=s),type:"color",style:{"margin-top":"auto","margin-bottom":"auto","margin-left":"5px"}},null,512),[[N,e.colorTag]]),t("button",{onClick:i[5]||(i[5]=s=>e.addTagFetch())},[n(m,{icon:"floppy-disk"})])],512),[[J,!e.addTag]])]),t("div",Fe,[t("div",Ge,[t("span",null,[b(" Created by "),t("span",null,d(e.issue.creador.nom),1)]),t("div",We,d(e.issue.dataModificacio),1)]),t("div",ze,[t("img",{src:e.issue.creador.avatar,width:"40",height:"40"},null,8,Re)])])])])])]),t("div",He,[t("section",Qe,[t("div",Je,[e.issue.descripcio?C((l(),r("textarea",{key:0,placeholder:"Empty space is so boring... go on, be descriptive...",name:"descripcio",class:"description ng-pristine ng-untouched ng-valid ng-empty","onUpdate:modelValue":i[6]||(i[6]=s=>e.issueDesc=s)},`\r
                            `,512)),[[N,e.issueDesc]]):L("",!0),t("button",{style:{"max-height":"32px",background:"none"},onClick:i[7]||(i[7]=s=>e.guardarDesc())},[n(m,{icon:"floppy-disk"})])])]),t("section",Ke,[t("div",Xe,[t("h3",Ye,[t("span",Ze,d(e.issue.attachments.length),1),$e]),t("div",ts,[t("div",es,[n(S,{label:"+",modelValue:e.attachmentFile,"onUpdate:modelValue":i[8]||(i[8]=s=>e.attachmentFile=s),onChange:i[9]||(i[9]=s=>e.addAttachment())},{default:c(()=>[n(m,{icon:"plus"})]),_:1},8,["modelValue"])])])]),t("div",ss,[(l(!0),r(w,null,T(e.issue.attachments,(s,v)=>(l(),r("ul",{key:v},[t("li",is,[t("div",os,[t("div",null,[t("a",{href:s.document},d(e.attachmentName(s.document)),9,as)]),t("button",{style:{"margin-right":"5px"},onClick:x=>e.esborrar_attachment(s)},[n(m,{icon:"trash"})],8,ns)])])]))),128))])]),t("section",ls,[t("nav",cs,[t("button",{class:Z(e.hihaComentaris?"history-tab active":"history-tab"),onClick:i[10]||(i[10]=s=>e.hihaComentaris=!0)}," Comentaris ",2),t("button",{class:Z(e.hihaComentaris?"history-tab":"history-tab active"),style:{"margin-left":"15px"},onClick:i[11]||(i[11]=s=>e.hihaComentaris=!1)}," Activities ",2)])]),e.hihaComentaris?(l(),r("section",rs,[t("div",ds,[C(t("textarea",{"onUpdate:modelValue":i[12]||(i[12]=s=>e.comment=s),placeholder:"Type a new comment here",style:{"margin-top":"5px","margin-bottom":"5px"}},null,512),[[N,e.comment]]),t("button",{onClick:i[13]||(i[13]=s=>e.afegir_comentari()),style:{"margin-left":"5px"}},[n(m,{icon:"floppy-disk"})])]),t("div",null,[t("ul",null,[(l(!0),r(w,null,T(e.issue.comentaris,(s,v)=>(l(),q(R,{key:v,comentari:s},null,8,["comentari"]))),128))])])])):(l(),r("section",us,[t("div",_s,[t("ul",null,[(l(!0),r(w,null,T(e.issue.logs,(s,v)=>(l(),q(H,{key:v,activity:s},null,8,["activity"]))),128))])])]))])]),t("div",vs,[t("section",ms,[ys,t("div",gs,[n(E,null,{activator:c(({props:s})=>[n(j,M(s,{variant:"text"}),{default:c(()=>[b(d(e.estat),1)]),_:2},1040)]),default:c(()=>[n(P,null,{default:c(()=>[(l(!0),r(w,null,T(e.TEstats,(s,v)=>(l(),q(U,{key:v,value:v},{default:c(()=>[n(V,{onClick:x=>e.setEstat(s)},{default:c(()=>[b(d(s),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),n(m,{icon:"arrow-down",style:{"margin-top":"8px"}})]),hs]),t("section",fs,[t("div",ps,[t("div",bs,[ks,n(E,null,{activator:c(({props:s})=>[n(j,M(s,{variant:"text"}),{default:c(()=>[b(d(e.tipus),1)]),_:2},1040)]),default:c(()=>[n(P,null,{default:c(()=>[(l(!0),r(w,null,T(e.TTipus,(s,v)=>(l(),q(U,{key:v,value:v},{default:c(()=>[n(V,{onClick:x=>e.setTipus(s)},{default:c(()=>[b(d(s),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),xs,t("div",ws,[Ts,n(E,null,{activator:c(({props:s})=>[n(j,M(s,{variant:"text"}),{default:c(()=>[b(d(e.gravetat),1)]),_:2},1040)]),default:c(()=>[n(P,null,{default:c(()=>[(l(!0),r(w,null,T(e.TGravetat,(s,v)=>(l(),q(U,{key:v,value:v},{default:c(()=>[n(V,{onClick:x=>e.setGravetat(s)},{default:c(()=>[b(d(s),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),Cs,t("div",js,[Us,n(E,null,{activator:c(({props:s})=>[n(j,M({variant:"text"},s),{default:c(()=>[b(d(e.prioritat),1)]),_:2},1040)]),default:c(()=>[n(P,null,{default:c(()=>[(l(!0),r(w,null,T(e.TPrioritat,(s,v)=>(l(),q(U,{key:v,value:v},{default:c(()=>[n(V,{onClick:x=>e.setPrioritat(s)},{default:c(()=>[b(d(s),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),Ps])]),t("section",Es,[Ss,t("div",Ds,[t("div",Bs,[As,t("div",null,[e.issue.assignacio?(l(),r("div",Is,[t("img",{src:e.issue.assignacio.avatar,width:"60",height:"60"},null,8,Vs),t("a",{href:/usuari/+e.issue.assignacio.id,style:{"margin-top":"20px"}},d(e.issue.assignacio.nom),9,Os),t("button",{onClick:i[14]||(i[14]=s=>e.esborrar_assignacio())},[n(m,{icon:"xmark"})])])):L("",!0)]),t("div",Ls,[n(W,{modelValue:e.selectAssign,"onUpdate:modelValue":i[16]||(i[16]=s=>e.selectAssign=s),width:"auto"},{activator:c(({props:s})=>[t("button",M({color:"primary"},s,{style:{"margin-right":"10px"},class:"ticket-users-actions"})," + Add assigned ",16)]),default:c(()=>[n(G,{width:"600px"},{default:c(()=>[n(O,null,{default:c(()=>[b(" Select user ")]),_:1}),n(B,null,{default:c(()=>[n(I,{placeholder:"Search for users"}),n(D,{type:"assign",users:e.allUsers,onUserSelect:e.assignSelect},null,8,["users","onUserSelect"]),n(j,{onClick:i[15]||(i[15]=s=>e.selectAssign=!1),color:"red",class:"mt-10 ml-16"},{default:c(()=>[b(" close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.issue.assignacio&&e.issue.assignacio.id==e.idUser?(l(),r("button",{key:0,class:"ticket-users-actions",style:{"maassignSelectautorgin-left":"5px"},onClick:i[17]||(i[17]=s=>e.esborrar_assignacio())}," Dont assign to me ")):(l(),r("button",{key:1,class:"ticket-users-actions",style:{"margin-left":"5px"},onClick:i[18]||(i[18]=s=>e.autoSelect(e.idUser))}," Assign to me "))])])])]),t("section",Ns,[qs,t("div",Ms,[t("div",Fs,[Gs,t("div",null,[t("ul",null,[(l(!0),r(w,null,T(e.issue.observadors,(s,v)=>(l(),r("li",{key:v},[t("div",Ws,[t("img",{src:s.avatar,width:"60",height:"60"},null,8,zs),t("a",{href:/usuari/+s.id,style:{"margin-top":"20px"}},d(s.nom),9,Rs),t("button",{onClick:x=>e.esborrar_observador(s.id)},[n(m,{icon:"xmark"})],8,Hs)])]))),128))])]),t("div",Qs,[n(W,{modelValue:e.selectObs,"onUpdate:modelValue":i[20]||(i[20]=s=>e.selectObs=s),width:"auto"},{activator:c(({props:s})=>[t("button",M({color:"primary"},s,{style:{"margin-right":"10px"},class:"ticket-users-actions"})," + Add watchers ",16)]),default:c(()=>[n(G,{width:"400px"},{default:c(()=>[n(O,null,{default:c(()=>[b(" Add watchers ")]),_:1}),n(B,null,{default:c(()=>[n(I,{placeholder:"Search for users"}),n(D,{type:"obs",users:e.allUsers,onUserSelect:e.obsSelected},null,8,["users","onUserSelect"]),n(j,{onClick:i[19]||(i[19]=s=>e.selectObs=!1),color:"red",class:"mt-10 ml-16"},{default:c(()=>[b(" close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.autoObservador?(l(),r("button",{key:0,class:"ticket-users-actions",style:{"margin-left":"5px"},onClick:i[21]||(i[21]=s=>e.unWatchIssue())}," Unwatch ")):(l(),r("button",{key:1,class:"ticket-users-actions",style:{"margin-left":"5px"},onClick:i[22]||(i[22]=s=>e.selfWatch())}," Watch "))])])])]),t("section",Js,[t("div",Ks,[t("div",null,[e.issue.dataLimit?(l(),r("button",{key:0,style:{background:"red"},onClick:i[23]||(i[23]=s=>e.deleteTimeLine())},[n(m,{icon:"clock"})])):(l(),r("button",{key:1,onClick:i[24]||(i[24]=s=>e.showDatePickker=!0)},[n(m,{icon:"clock"})]))]),t("div",null,[e.issue.bloquejat?(l(),r("button",{key:0,style:{background:"red","margin-left":"5px"},onClick:i[25]||(i[25]=s=>e.deleteBlock())},[n(m,{icon:"lock"})])):(l(),r("button",{key:1,style:{"margin-left":"5px"},onClick:i[26]||(i[26]=s=>e.showBlock=!0)},[n(m,{icon:"lock"})]))]),t("div",Xs,[t("button",{onClick:i[27]||(i[27]=s=>e.deleteIssue())},[n(m,{icon:"trash"})])])])]),C(t("div",Ys,[C(t("input",{type:"date",id:"datePickerInput",name:"dataLimit","onUpdate:modelValue":i[28]||(i[28]=s=>e.date=s)},null,512),[[N,e.date]]),t("button",{onClick:i[29]||(i[29]=s=>e.btnSaveDateDirect()),style:{"margin-left":"5px"}},[n(m,{icon:"floppy-disk"})])],512),[[J,e.showDatePickker]]),C(t("div",Zs,[C(t("input",{type:"text",id:"inputMotiuBloqueig",name:"motiuBloqueig","onUpdate:modelValue":i[30]||(i[30]=s=>e.motiuBlock=s)},null,512),[[N,e.motiuBlock]]),t("button",{onClick:i[31]||(i[31]=(...s)=>e.btnSaveMotiuBloqueig&&e.btnSaveMotiuBloqueig(...s))},[n(m,{icon:"floppy-disk"})])],512),[[J,e.showBlock]])])])])):L("",!0)}const si=K(me,[["render",$s],["__scopeId","data-v-d37c14c8"]]);export{si as default};
